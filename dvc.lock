schema: '2.0'
stages:
  decompress_dataset:
    cmd: sh datasets/scripts/decompress_dataset.sh
    deps:
    - path: datasets/preprocessed.tar.xz
      md5: 42d49fa27c18de67c761b82714a33efc
      size: 2283776000
    outs:
    - path: datasets/samples/preprocessed
      md5: 65e73a0517c160945022ac8539d14878.dir
      size: 2270042409
      nfiles: 17464
  train:
    cmd: python model/src/train.py
    deps:
    - path: datasets/samples/preprocessed/
      md5: 65e73a0517c160945022ac8539d14878.dir
      size: 2270042409
      nfiles: 17464
    - path: datasets/trainlist.txt
      md5: 0db2323259560a4204169138078474d0
      size: 60300
    - path: model/src/train.py
      md5: 25d2b003d177c3a8c81170431e2af665
      size: 5101
    - path: params.yaml
      md5: 83e25c10f888b0e819e8925d4c329a35
      size: 435
    outs:
    - path: model/train/best_SmallCnn.h5
      md5: f0af61db95de19659480e9cc9370b3df
      size: 49600
    - path: model/train/best_SmallCnn.json
      md5: 957225c13e07baad45a116d68a5baa6f
      size: 72
    - path: model/train/checkpoint.h5
      md5: 3d0622277ffb463f329e8d82cc0b4b78
      size: 49600
    - path: model/train/checkpoint.json
      md5: 930d7186d352f110b576519d573a58c5
      size: 73
  evaluate:
    cmd: python model/src/evaluator.py model/train/best_SmallCnn.h5 params.yaml datasets/testlist.txt  --output
      model/eval/metrics.json
    deps:
    - path: datasets/testlist.txt
      md5: 619cb64e8c239ab15b9cb9f922861dd5
      size: 25728
    - path: model/src/evaluator.py
      md5: c5932eee052a07c415418c25c78d2e6e
      size: 4003
    - path: model/train/best_SmallCnn.h5
      md5: f0af61db95de19659480e9cc9370b3df
      size: 49600
    - path: params.yaml
      md5: 83e25c10f888b0e819e8925d4c329a35
      size: 435
    outs:
    - path: model/eval/metrics.json
      md5: a0c2d6f115e28149cdd2d7522ef9df31
      size: 590
